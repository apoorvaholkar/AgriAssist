"use strict";(self.webpackChunkBhoomi=self.webpackChunkBhoomi||[]).push([[99],{6504:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var s=t(2791),c=t(2485),i=t(9806),d=t(1632),r=t(184);const n=e=>{let{onSave:a}=e;const[t,c]=(0,s.useState)("");return(0,r.jsxs)("div",{className:"address-form",children:[(0,r.jsxs)("label",{children:["Address:",(0,r.jsx)("input",{type:"text",value:t,onChange:e=>c(e.target.value),className:"address-input"})]}),(0,r.jsx)("button",{className:"save-address-button",onClick:()=>{a(t)},children:"Save Address and Checkout"})]})};var l=t(7689);const o=e=>{let{cartItems:a,handleAddQuantity:t,handleRemoveQuantity:c,handleRemoveFromCart:o,isFirstOrder:m}=e;const p=(0,l.s0)(),[u,b]=(0,s.useState)(m),{subtotal:h,tax:x,total:j}=(()=>{const e=a.reduce(((e,a)=>e+a.price*a.quantity),0),t=.05*e;return{subtotal:e,tax:t,total:e+t}})();return(0,r.jsx)("div",{className:"cartcont",children:(0,r.jsxs)("div",{className:"cart",children:[(0,r.jsx)("h1",{className:"carth1",children:"Items Added:"}),(0,r.jsx)("ul",{className:"cartu",children:a.map(((e,a)=>(0,r.jsxs)("li",{className:"carti",children:[(0,r.jsxs)("div",{className:"item-details",children:[(0,r.jsx)("span",{className:"cart-item-name",children:e.name}),(0,r.jsxs)("span",{className:"cart-item-price",children:["\u20b9",e.price.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"quantity-controls",children:[(0,r.jsx)("button",{className:"quantity-button",onClick:()=>c(e.id),children:"-"}),(0,r.jsx)("span",{className:"quantity",children:e.quantity}),(0,r.jsx)("button",{className:"quantity-button",onClick:()=>t(e.id),children:"+"}),(0,r.jsx)("button",{className:"remove-button",onClick:()=>o(e.id),children:(0,r.jsx)(i.G,{icon:d.$aW})})]})]},a)))}),(0,r.jsx)("hr",{className:"cart-divider"}),(0,r.jsxs)("div",{className:"cart-summary",children:[(0,r.jsxs)("p",{children:["Subtotal: \u20b9",h.toLocaleString()]}),(0,r.jsxs)("p",{children:["Tax (5%): \u20b9",x.toLocaleString()]}),(0,r.jsxs)("p",{children:["Total: \u20b9",j.toLocaleString()]})]}),u?(0,r.jsx)(n,{onSave:e=>{console.log("Address saved:",e),b(!1)}}):(0,r.jsx)("button",{className:"checkout-button",onClick:()=>{u||(p("/dashboard/checkout"),console.log("Proceed to payment"))},children:"Checkout"})]})})},m={tractor:t.p+"static/media/1.4dbe76621ff579612612.webp",harvester:t.p+"static/media/2.609daaa36e566f289f16.jpeg",plough:t.p+"static/media/3.a748b1b02deb60015d2d.jpeg",seeder:t.p+"static/media/4.00c10ccf82f3f9aa6932.jpeg",spreader:t.p+"static/media/5.acc2f1e24bd21a704699.webp",rotavator:t.p+"static/media/6.fc34f6facd50c13ddcc6.webp",trailer:t.p+"static/media/7.b34c8b13cd0055e26272.webp",combine:t.p+"static/media/8.d801e96228dd272706ed.webp",sprayer:t.p+"static/media/9.46a6078ba92b36af65ea.webp",seederFertilizer:t.p+"static/media/10.30b25bc3851d5b65965e.webp",mower:t.p+"static/media/11.c448ac7a46452fedda5d.webp",tiller:t.p+"static/media/12.cdd7af68ecd67ca1b881.webp",baler:t.p+"static/media/13.96a282d161f5261d3206.webp",cultivator:t.p+"static/media/14.5314f17c1361497c4a98.webp",boomSprayer:t.p+"static/media/15.ffced23df39260b2d146.webp",rowSeeder:t.p+"static/media/16.4cb1c66a752b3553ed9d.webp",flatbedTrailer:t.p+"static/media/17.63e0e36f93d92956acaa.webp",manureSpreader:t.p+"static/media/18.36639bf79d11ee34b435.webp",heavyDutyRotavator:t.p+"static/media/19.21cc7ffd5ca5aea6bffd.webp",selfPropelledHarvester:t.p+"static/media/20.53fcc81b084e23c4f7c8.webp",flatbedTrailer1:t.p+"static/media/21.86a09faeb289312516a7.webp",manureSpreader1:t.p+"static/media/22.1ae681236fb3d2691001.webp",heavyDutyRotavator1:t.p+"static/media/23.5fcd75e380cb944a6647.webp",selfPropelledHarvester1:t.p+"static/media/24.3d928eb4fdc9b40657a4.webp"},p=()=>{const[e,a]=(0,s.useState)(1),[t,n]=(0,s.useState)(""),[l,p]=(0,s.useState)([]),[u,b]=(0,s.useState)(!1),[h,x]=(0,s.useState)([]);(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,c.M5)();x(e),console.log(e)}catch(e){console.error("Error fetching data:",e)}})()}),[]);const j=h.filter((e=>e.name.toLowerCase().includes(t.toLowerCase()))),f=Math.ceil(j.length/10),v=10*(e-1),N=j.slice(v,v+10);return(0,r.jsxs)("div",{className:"market-container",children:[(0,r.jsxs)("div",{className:"search-bar",children:[(0,r.jsx)("input",{className:"search-input",type:"text",placeholder:"Search Your Item",value:t,onChange:e=>n(e.target.value)}),(0,r.jsx)("div",{style:{marginLeft:"440px",marginTop:"-40px"},children:(0,r.jsx)(i.G,{icon:d.wn1,className:"search-icon"})})]}),(0,r.jsxs)("div",{className:"cart-icon",onClick:()=>b(!u),children:[(0,r.jsx)(i.G,{icon:d.sq$}),(0,r.jsx)("span",{className:"cart-count",children:l.length})]}),u&&l.length>0&&(0,r.jsx)(o,{cartItems:l,handleAddQuantity:e=>{p(l.map((a=>a.id===e?{...a,quantity:a.quantity+1}:a)))},handleRemoveQuantity:e=>{p(l.map((a=>a.id===e?{...a,quantity:a.quantity>1?a.quantity-1:1}:a)))},handleRemoveFromCart:e=>{p(l.filter((a=>a.id!==e)))}}),(0,r.jsx)("div",{className:"market-item-grid",children:N.map((e=>(0,r.jsxs)("div",{className:"market-item",children:[(0,r.jsx)("img",{src:m[e.image],alt:e.name}),(0,r.jsxs)("div",{className:"item-price-section",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"item-name",children:e.name}),(0,r.jsxs)("p",{className:"item-year",children:["Year: ",e.year]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("button",{className:"item-price",children:[" \u20b9",e.price.toLocaleString()]})})]}),(0,r.jsx)("button",{className:"add-to-cart-button",onClick:()=>(e=>{const a=l.find((a=>a.id===e.id));p(a?l.map((a=>a.id===e.id?{...a,quantity:a.quantity+1}:a)):[...l,{...e,quantity:1}])})(e),children:"Add to Cart"})]},e.id)))}),(0,r.jsxs)("div",{className:"pagination",children:[(0,r.jsx)("button",{className:"page-button",onClick:()=>{e>1&&a(e-1)},disabled:1===e,children:"Previous"}),(0,r.jsxs)("span",{style:{marginTop:"5px",marginLeft:"160px"},children:["Page ",e," of ",f]}),(0,r.jsx)("button",{className:"page-button1",onClick:()=>{e<f&&a(e+1)},disabled:e===f,children:"Next"})]})]})}}}]);
//# sourceMappingURL=99.3c6b9967.chunk.js.map